{"version":3,"sources":["components/cell/cell.js","components/row/row.js","components/field/field.js","components/modal/modal.js","components/nextFigureField/nextFigureField.js","figures.js","components/controlPanel/arrowUp/arrowUp.js","components/controlPanel/arrowDown/arrowDown.js","components/controlPanel/arrowLeft/arrowLeft.js","components/controlPanel/arrowRight/arrowRight.js","components/controlPanel/pauseBtn/pauseBtn.js","components/controlPanel/startBtn/startBtn.js","components/controlPanel/controlPanel.js","components/game/game.js","App.js","index.js"],"names":["Cell","_ref","cell","react_default","a","createElement","className","concat","Row","row","map","index","components_cell_cell","key","Field","field","components_row_row","Modal","isGameOver","NextFigureField","nextFigureField","figures","path","ArrowUp","handleClickButton","onClick","data-arrow","ArrowDown","ArrowLeft","ArrowRight","PauseButton","pauseGame","isPaused","StartButton","startGame","_useState","useState","_useState2","Object","slicedToArray","activeClass","setClass","setTimeout","ControlPanel","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","controlPanel","document","querySelector","target","dataset","arrow","classList","add","remove","handleClick","arrowUp","arrowDown","arrowLeft","arrowRight","pauseBtn","startBtn","React","PureComponent","Game","createField","height","width","array","y","x","getRandomFigure","randomNumber","Math","floor","random","length","lastRandomNumber","loop","includes","pathIndex","currentFigure","nextFigure","figurePath","drawFigure","figureCoord","setState","interval","setInterval","moveFigure","speed","handleKeyDown","isKeyDown","state","keyCode","moveFigureLeft","moveFigureRight","moveFigureDown","rotateFigure","figure","forEach","canMove","freezeFigure","clearInterval","clearFullRow","rowIndex","getFullRowIndex","i","isRowFull","_this2","addEventListener","_this3","canRotate","nextFigurePath","cellIndex","Fragment","components_field_field","modal_modal","nextFigureField_nextFigureField","controlPanel_controlPanel","Component","App","game_game","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.1db6a8f0.chunk.js","sourcesContent":["import React from 'react'\r\nimport './cell.css'\r\n\r\nconst Cell =({cell}) =>{\r\n  return(\r\n    <div className={`cell ${cell === 1 ? 'active': cell === 2? 'freeze':''}`}></div>\r\n  )\r\n}\r\n\r\nexport default Cell","import React from \"react\";\r\nimport Cell from \"../cell/cell\";\r\nimport \"./row.css\";\r\n\r\nconst Row = ({ row }) => {\r\n  return (\r\n    <div className=\"row\">\r\n      {row.map((cell, index) => (\r\n        <Cell key={index} cell={cell} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Row;\r\n","import React from \"react\";\r\nimport Row from \"../row/row\";\r\nimport \"./field.css\";\r\n\r\nconst Field = ({ field }) => {\r\n  return (\r\n    <div className=\"field\">\r\n      {field.map((row, index) => (\r\n        <Row className=\"row\" key={index} row={row} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Field;\r\n","import React from 'react';\r\nimport './modal.css';\r\n\r\nconst Modal = ({ isGameOver }) => {\r\n\treturn (\r\n\t\t<div className={`modal ${isGameOver ? 'is-visible' : ''}`}>\r\n\t\t\t<p className=\"modal__text\">Game Over</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport Row from \"../row/row\";\r\n\r\n\r\nconst NextFigureField = ({  nextFigureField }) => {\r\n  return (\r\n    <div className=\"field\">\r\n      {nextFigureField.map((row, index) => (\r\n        <Row className=\"row\" key={index} row={row} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default  NextFigureField;","export const figures = [\r\n  {\r\n    // figure: shape-left\r\n    path: [[[0, 0], [0, 1], [1, 1], [1, 2]], [[1, 0], [2, 0], [0, 1], [1, 1]]]\r\n  },\r\n  {\r\n    // figure: shape-right\r\n    path: [[[1, 0], [0, 1], [1, 1], [0, 2]], [[0, 0], [1, 0], [1, 1], [2, 1]]]\r\n  },\r\n  {\r\n    // figure: L-reverse\r\n    path: [\r\n      [[0, 0], [1, 0], [2, 0], [2, 1]],\r\n      [[1, 0], [1, 1], [1, 2], [0, 2]],\r\n      [[0, 0], [0, 1], [1, 1], [2, 1]],\r\n      [[0, 0], [1, 0], [0, 1], [0, 2]]\r\n    ]\r\n  },\r\n  {\r\n    // figure: L-normal\r\n    path: [\r\n      [[0, 0], [1, 0], [2, 0], [0, 1]],\r\n      [[0, 0], [1, 0], [1, 1], [1, 2]],\r\n      [[2, 0], [0, 1], [1, 1], [2, 1]],\r\n      [[0, 0], [0, 1], [0, 2], [1, 2]]\r\n    ]\r\n  },\r\n  {\r\n    // figure: line\r\n    path: [[[0, 0], [1, 0], [2, 0], [3, 0]], [[1, 0], [1, 1], [1, 2], [1, 3]]]\r\n  },\r\n  {\r\n    // figure: T\r\n    path: [\r\n      [[0, 0], [1, 0], [2, 0], [1, 1]],\r\n      [[1, 0], [1, 1], [1, 2], [0, 1]],\r\n      [[1, 0], [0, 1], [1, 1], [2, 1]],\r\n      [[0, 0], [0, 1], [0, 2], [1, 1]]\r\n    ]\r\n  }\r\n];\r\n","import React from 'react';\r\nimport '../arrow.css';\r\n\r\nconst ArrowUp = ({ handleClickButton }) => {\r\n\treturn (\r\n\t\t<div onClick={handleClickButton} data-arrow=\"up\" className=\"arrow arrow--up\">\r\n\t\t\t<div className=\"arrow__content\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ArrowUp;\r\n","import React from \"react\";\r\nimport \"../arrow.css\";\r\n\r\nconst ArrowDown = ({ handleClickButton }) => {\r\n  return (\r\n    <div\r\n      onClick={handleClickButton}\r\n      data-arrow=\"down\"\r\n      className=\"arrow arrow--down\"\r\n    >\r\n      <div className=\"arrow__content\">\r\n   \r\n     </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrowDown;\r\n","import React from \"react\";\r\nimport \"../arrow.css\";\r\n\r\nconst ArrowLeft = ({ handleClickButton }) => {\r\n  return (\r\n    <div\r\n      onClick={handleClickButton}\r\n      data-arrow=\"left\"\r\n      className=\"arrow arrow--left\"\r\n    >\r\n      <div className=\"arrow__content\">\r\n   \r\n     </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrowLeft;\r\n","import React from 'react';\r\nimport '../arrow.css';\r\n\r\nconst ArrowRight = ({ handleClickButton }) => {\r\n\treturn (\r\n\t\t<div onClick={handleClickButton} data-arrow=\"right\" className=\"arrow arrow--right\">\r\n\t\t\t<div className=\"arrow__content\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ArrowRight;\r\n","import React from \"react\";\r\nimport \"../btn.css\";\r\n\r\nconst PauseButton = ({ pauseGame, isPaused }) => {\r\n  return (\r\n    <button\r\n      className={`btn btn--pause ${isPaused ? \"isPaused\" : \"\"}`}\r\n      onClick={pauseGame}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PauseButton;\r\n","import React, { useState } from \"react\";\r\nimport \"../btn.css\";\r\n\r\nconst StartButton = ({ startGame, isGameOver }) => {\r\n  const [activeClass, setClass] = useState();\r\n\r\n  const toggleClass = () => {\r\n    if (!isGameOver) return;\r\n    setClass(\"start\");\r\n    setTimeout(() => setClass(\"\"), 200);\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`btn btn--start ${activeClass}`}\r\n      onClick={() => {\r\n        startGame();\r\n        toggleClass();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default StartButton;\r\n","import React from \"react\";\r\nimport \"./controlPanel.css\";\r\nimport ArrowUp from \"./arrowUp/arrowUp\";\r\nimport ArrowDown from \"./arrowDown/arrowDown\";\r\nimport ArrowLeft from \"./arrowLeft/arrowLeft\";\r\nimport ArrowRight from \"./arrowRight/arrowRight\";\r\nimport PauseBtn from \"./pauseBtn/pauseBtn\";\r\nimport StartBtn from \"./startBtn/startBtn\";\r\n\r\nclass ControlPanel extends React.PureComponent {\r\n  constructor(props) {\r\n    super();\r\n    this.handleClick = props.handleClick;\r\n    this.pauseGame = props.pauseGame;\r\n    this.startGame = props.startGame;\r\n  }\r\n\r\n  handleClickButton = e => {\r\n    const controlPanel = document.querySelector(\r\n      \".control-panel__arrows-wrapper\"\r\n    );\r\n    const activeClass = e.target.dataset.arrow;\r\n    controlPanel.classList.add(activeClass);\r\n    setTimeout(() => {\r\n      controlPanel.classList.remove(activeClass);\r\n    }, 300);\r\n    this.handleClick(e);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"control-panel\">\r\n        <div className=\"control-panel__arrows-wrapper\">\r\n          <ArrowUp handleClickButton={this.handleClickButton} />\r\n          <ArrowDown handleClickButton={this.handleClickButton} />\r\n          <ArrowLeft handleClickButton={this.handleClickButton} />\r\n          <ArrowRight handleClickButton={this.handleClickButton} />\r\n        </div>\r\n        <div className=\"control-panel__buttons-wrapper\">\r\n          <PauseBtn pauseGame={this.pauseGame} isPaused={this.props.isPaused} />\r\n          <StartBtn\r\n            startGame={this.startGame}\r\n            isGameOver={this.props.isGameOver}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ControlPanel;\r\n","import React from \"react\";\r\nimport Field from \"../field/field\";\r\nimport Modal from \"../modal/modal\";\r\nimport NextFigureField from \"../nextFigureField/nextFigureField\";\r\nimport \"./game.css\";\r\nimport { figures } from \"../../figures\";\r\nimport ControlPanel from \"../controlPanel/controlPanel\";\r\n\r\nclass Game extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      field: [[]],\r\n      nextFigureField: [[]],\r\n\t\t\tisGameOver: false,\r\n\t\t\tisPaused: false\t\r\n    };\r\n\r\n    this.speed = 800;\r\n    this.field = this.createField(20, 10);\r\n    this.nextFigureField = this.createField(5, 5);\r\n    this.pathIndex = 0;\r\n    this.isKeyDown = true;\r\n    this.figureCoord = { x: 0, y: 0 };\r\n    this.lastRandomNumber = null;\r\n    this.currentFigure = null;\r\n    this.figurePath = null;\r\n    this.figures = figures;\r\n  }\r\n\r\n  createField = (height, width) => {\r\n    let array = [];\r\n    for (let y = 0; y < height; y++) {\r\n      array[y] = [];\r\n      for (let x = 0; x < width; x++) {\r\n        array[y][x] = 0;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  getRandomFigure = () => {\r\n    const randomNumber = Math.floor(Math.random() * this.figures.length);\r\n    if (this.lastRandomNumber === randomNumber) this.getRandomFigure();\r\n    this.lastRandomNumber = randomNumber;\r\n    return this.figures[randomNumber];\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.handleKeyDown);\r\n    document.addEventListener(\"keyup\", () => (this.isKeyDown = true));\r\n    this.nextFigure = this.getRandomFigure();\r\n    this.loop();\r\n  }\r\n\r\n  loop = () => {\r\n    if (this.field[0].includes(2)) {\r\n      this.isGameOver();\r\n      return;\r\n    }\r\n    this.pathIndex = 0;\r\n    this.nextFigureField = this.nextFigureField.map(row =>\r\n      row.map(cell => (cell = 0))\r\n    );\r\n    this.currentFigure = this.nextFigure;\r\n    this.figurePath = this.currentFigure.path[0];\r\n    this.drawFigure(\r\n      this.field,\r\n      this.figurePath,\r\n      this.figureCoord.x,\r\n      this.figureCoord.y\r\n    );\r\n    this.nextFigure = this.getRandomFigure();\r\n    this.drawFigure(this.nextFigureField, this.nextFigure.path[0], 1, 1);\r\n    this.setState({ field: this.field, nextFigureField: this.nextFigureField });\r\n    this.interval = setInterval(this.moveFigure, this.speed);\r\n  };\r\n\r\n  handleKeyDown = e => {\r\n    if (!this.isKeyDown || this.state.isGameOver ||this.state.isPaused) return;\r\n    switch (e.keyCode) {\r\n      case 37:\r\n        this.isKeyDown = false;\r\n        this.moveFigureLeft();\r\n        break;\r\n      case 39:\r\n        this.isKeyDown = false;\r\n        this.moveFigureRight();\r\n        break;\r\n      case 40:\r\n        this.isKeyDown = false;\r\n        this.moveFigureDown();\r\n        break;\r\n      case 38:\r\n        this.isKeyDown = false;\r\n        this.rotateFigure();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  handleClick = e => {\r\n    if (this.state.isGameOver ||this.state.isPaused) return;\r\n    switch (e.target.dataset.arrow) {\r\n      case \"left\":\r\n        this.moveFigureLeft();\r\n        break;\r\n      case \"right\":\r\n        this.moveFigureRight();\r\n        break;\r\n      case \"down\":\r\n        this.moveFigureDown();\r\n        break;\r\n      case \"up\":\r\n        this.rotateFigure();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  drawFigure = (field, figure, x, y) => {\r\n    figure.forEach(path => {\r\n      field[path[1] + y][path[0] + x] = 1;\r\n    });\r\n  };\r\n\r\n  moveFigure = () => {\r\n    // check if figure can be moved down\r\n    let canMove = true;\r\n    for (let y = this.field.length - 1; y >= 0; y--) {\r\n      for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n        if (this.field[y][x] === 1) {\r\n          if (y + 1 === this.field.length || this.field[y + 1][x] === 2) {\r\n            canMove = false;\r\n            this.freezeFigure();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // move a figure down\r\n    if (canMove) {\r\n      this.figureCoord.y++;\r\n      for (let y = this.field.length - 1; y >= 0; y--) {\r\n        for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n          if (this.field[y][x] === 1) {\r\n            this.field[y][x] = 0;\r\n            this.field[y + 1][x] = 1;\r\n          }\r\n        }\r\n      }\r\n      this.setState({ field: this.field });\r\n    }\r\n  };\r\n\r\n  moveFigureLeft = () => {\r\n    // check if figure can move to left\r\n    let canMove = true;\r\n    for (let x = 0; x <= this.field[1].length - 1; x++) {\r\n      for (let y = 0; y <= this.field.length - 1; y++) {\r\n        if (this.field[y][x] === 1) {\r\n          if (x <= 0 || this.field[y][x - 1] === 2) {\r\n            canMove = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // move figure to left\r\n    if (canMove) {\r\n      this.figureCoord.x--;\r\n      for (let x = 0; x <= this.field[1].length - 1; x++) {\r\n        for (let y = 0; y <= this.field.length - 1; y++) {\r\n          if (this.field[y][x] === 1) {\r\n            this.field[y][x] = 0;\r\n            this.field[y][x - 1] = 1;\r\n          }\r\n        }\r\n      }\r\n      this.setState({ field: this.field });\r\n    }\r\n  };\r\n\r\n  moveFigureRight = () => {\r\n    let canMove = true;\r\n    for (let x = this.field[1].length - 1; x >= 0; x--) {\r\n      for (let y = 0; y <= this.field.length - 1; y++) {\r\n        if (this.field[y][x] === 1) {\r\n          if (x >= this.field[1].length - 1 || this.field[y][x + 1] === 2) {\r\n            canMove = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // move figure to right\r\n    if (canMove) {\r\n      this.figureCoord.x++;\r\n      for (let x = this.field[1].length - 1; x >= 0; x--) {\r\n        for (let y = 0; y <= this.field.length - 1; y++) {\r\n          if (this.field[y][x] === 1) {\r\n            this.field[y][x] = 0;\r\n            this.field[y][x + 1] = 1;\r\n          }\r\n        }\r\n      }\r\n      this.setState({ field: this.field });\r\n    }\r\n  };\r\n\r\n  moveFigureDown = () => {\r\n    clearInterval(this.interval);\r\n    this.interval = setInterval(this.moveFigure, 10);\r\n  };\r\n\r\n  rotateFigure() {\r\n    // check if figure has space to rotate\r\n    let canRotate = true;\r\n    this.nextFigurePath = this.currentFigure.path[this.pathIndex + 1];\r\n    this.nextFigurePath.forEach(path => {\r\n      const x = path[0] + this.figureCoord.x;\r\n      const y = path[1] + this.figureCoord.y;\r\n      if (\r\n        x >= this.field[0].length ||\r\n        y >= this.field.length ||\r\n        this.field[y][x] === 2\r\n      ) {\r\n        canRotate = false;\r\n      }\r\n    });\r\n\r\n    if (canRotate) {\r\n      this.pathIndex =\r\n        this.pathIndex >= this.currentFigure.path.length - 2\r\n          ? -1\r\n          : this.pathIndex + 1;\r\n      this.figurePath = this.nextFigurePath;\r\n      // flush cells\r\n      this.field.forEach((row, rowIndex) =>\r\n        row.forEach((cell, cellIndex) => {\r\n          if (cell === 1) {\r\n            this.field[rowIndex][cellIndex] = 0;\r\n          }\r\n        })\r\n      );\r\n      this.drawFigure(\r\n        this.field,\r\n        this.figurePath,\r\n        this.figureCoord.x,\r\n        this.figureCoord.y\r\n      );\r\n      this.setState({ field: this.field });\r\n    }\r\n  }\r\n\r\n  freezeFigure = () => {\r\n    clearInterval(this.interval);\r\n    for (let y = this.field.length - 1; y >= 0; y--) {\r\n      for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n        if (this.field[y][x] === 1) {\r\n          this.field[y][x] = 2;\r\n        }\r\n      }\r\n    }\r\n    this.figureCoord.x = 0;\r\n    this.figureCoord.y = 0;\r\n    this.setState({ field: this.field });\r\n    this.clearFullRow();\r\n    this.loop();\r\n  };\r\n\r\n  clearFullRow = () => {\r\n    const rowIndex = this.getFullRowIndex();\r\n    if (!rowIndex) return;\r\n    for (let i = rowIndex; i > 0; i--) {\r\n      for (let x = 0; x < this.field[0].length; x++) {\r\n        this.field[i][x] = this.field[i - 1][x];\r\n      }\r\n    }\r\n    this.clearFullRow();\r\n  };\r\n\r\n  getFullRowIndex = () => {\r\n    let isRowFull;\r\n    for (let y = this.field.length - 1; y >= 0; y--) {\r\n      isRowFull = true;\r\n      for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n        if (this.field[y][x] === 0) {\r\n          isRowFull = false;\r\n        }\r\n      }\r\n      if (isRowFull) {\r\n        return y;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  isGameOver = () => {\r\n    this.setState({ isGameOver: true });\r\n    clearInterval(this.interval);\r\n  };\r\n\r\n  startGame = () => {\r\n    if (!this.state.isGameOver) return;\r\n    this.setState({ isGameOver: false });\r\n    this.field = this.field.map(row => row.map(cell => (cell = 0)));\r\n    this.loop();\r\n  };\r\n\r\n  pauseGame = () => {\r\n    if (this.state.isGameOver) return;\r\n    if (this.state.isPaused) {\r\n\t\t\tthis.interval = setInterval(this.moveFigure, this.speed);\r\n\t\t\tthis.setState({isPaused: false});\r\n    } else {\r\n      clearInterval(this.interval);\r\n\t\t\tthis.setState({isPaused: true});\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"game\">\r\n          <Field field={this.state.field} />\r\n          <Modal isGameOver={this.state.isGameOver} startGame={this.startGame} />\r\n          <NextFigureField nextFigureField={this.state.nextFigureField} />\r\n        </div>\r\n        <ControlPanel\r\n          handleClick={this.handleClick}\r\n          pauseGame={this.pauseGame}\r\n          startGame={this.startGame}\r\n\t\t\t\t\tisPaused={this.state.isPaused}\r\n\t\t\t\t\tisGameOver={this.state.isGameOver}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React from \"react\";\r\nimport Game from \"./components/game/game\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <>\r\n      <Game />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css'\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}