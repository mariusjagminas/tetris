{"version":3,"sources":["sounds/addScore.mp3","sounds/gameOver.mp3","components/Cell/Cell.js","components/Row/Row.js","components/Field/Field.js","components/NextFigureField/NextFigureField.js","data/figures.js","components/ControlPanel/arrowUp/arrowUp.js","components/ControlPanel/arrowDown/arrowDown.js","components/ControlPanel/arrowLeft/arrowLeft.js","components/ControlPanel/arrowRight/arrowRight.js","components/ControlPanel/pauseBtn/pauseBtn.js","components/ControlPanel/startBtn/startBtn.js","components/ControlPanel/ControlPanel.js","components/ScoreBoard/ScoreBoard.js","components/GameOver/GameOver.js","components/Game/Game.js","components/App/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Cell","_ref","cell","react_default","a","createElement","className","concat","Row","row","map","index","components_Cell_Cell","key","Field","field","components_Row_Row","NextFigureField","nextFigureField","figures","path","ArrowUp","handleClickButton","onClick","data-arrow","ArrowDown","ArrowLeft","ArrowRight","PauseButton","pauseGame","isPaused","StartButton","startGame","isGameOver","_useState","useState","_useState2","Object","slicedToArray","activeClass","setClass","setTimeout","ControlPanel","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","e","controlPanel","document","querySelector","target","dataset","arrow","classList","add","remove","handleClick","arrowUp","arrowDown","arrowLeft","arrowRight","pauseBtn","startBtn","React","PureComponent","ScoreBoard","title","score","GameOver","Game","createField","height","width","array","y","x","getRandomFigure","randomNumber","Math","floor","random","length","lastRandomNumber","loop","includes","gameOver","pathIndex","currentFigure","nextFigure","figurePath","drawFigure","figureCoord","setState","interval","setInterval","moveFigure","speed","handleKeyDown","isKeyDown","state","keyCode","moveFigureLeft","moveFigureRight","moveFigureDown","rotateFigure","figure","forEach","canMove","freezeFigure","clearInterval","clearFullRow","rowIndex","getFullRowIndex","i","addScore","playSound","addScoreSound","getHiScore","savedHiScore","parseInt","window","localStorage","getItem","hiScore","setHiScore","setItem","isRowFull","gameOverSound","sound","volume","arguments","undefined","currentTime","play","Audio","_this2","addEventListener","_this3","canRotate","nextFigurePath","cellIndex","Fragment","components_Field_Field","components_ScoreBoard_ScoreBoard","components_NextFigureField_NextFigureField","components_GameOver_GameOver","components_ControlPanel_ControlPanel","Component","App","components_Game_Game","ReactDOM","render","components_App_App","getElementById"],"mappings":"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","file":"static/js/main.55877003.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/addScore.bb6c99a6.mp3\";","module.exports = __webpack_public_path__ + \"static/media/gameOver.2443eae4.mp3\";","import React from 'react'\r\nimport './Cell.css'\r\n\r\nconst Cell =({cell}) =>{\r\n  return(\r\n    <div className={`cell ${cell === 1 ? 'active': cell === 2? 'freeze':''}`}></div>\r\n  )\r\n}\r\n\r\nexport default Cell","import React from \"react\";\r\nimport Cell from \"../Cell/Cell\";\r\nimport \"./Row.css\";\r\n\r\nconst Row = ({ row }) => {\r\n  return (\r\n    <div className=\"row\">\r\n      {row.map((cell, index) => (\r\n        <Cell key={index} cell={cell} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Row;\r\n","import React from \"react\";\r\nimport Row from \"../Row/Row\";\r\nimport \"./Field.css\";\r\n\r\nconst Field = ({ field }) => {\r\n  return (\r\n    <div className=\"field\">\r\n      {field.map((row, index) => (\r\n        <Row className=\"row\" key={index} row={row} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Field;\r\n","import React from \"react\";\r\nimport Row from \"../Row/Row\";\r\nimport './NextFigureField.css';\r\n\r\n\r\nconst NextFigureField = ({  nextFigureField }) => {\r\n  return (\r\n    <div className=\"field next-figure\">\r\n      <div className=\"next-figure__title\">NEXT</div>\r\n      {nextFigureField.map((row, index) => (\r\n        <Row className=\"row\" key={index} row={row} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default  NextFigureField;","export const figures = [\r\n  {\r\n    // figure: shape-left\r\n    path: [[[0, 0], [0, 1], [1, 1], [1, 2]], [[1, 0], [2, 0], [0, 1], [1, 1]]]\r\n  },\r\n  {\r\n    // figure: shape-right\r\n    path: [[[1, 0], [0, 1], [1, 1], [0, 2]], [[0, 0], [1, 0], [1, 1], [2, 1]]]\r\n  },\r\n  {\r\n    // figure: L-reverse\r\n    path: [\r\n      [[0, 0], [1, 0], [2, 0], [2, 1]],\r\n      [[1, 0], [1, 1], [1, 2], [0, 2]],\r\n      [[0, 0], [0, 1], [1, 1], [2, 1]],\r\n      [[0, 0], [1, 0], [0, 1], [0, 2]]\r\n    ]\r\n  },\r\n  {\r\n    // figure: L-normal\r\n    path: [\r\n      [[0, 0], [1, 0], [2, 0], [0, 1]],\r\n      [[0, 0], [1, 0], [1, 1], [1, 2]],\r\n      [[2, 0], [0, 1], [1, 1], [2, 1]],\r\n      [[0, 0], [0, 1], [0, 2], [1, 2]]\r\n    ]\r\n  },\r\n  {\r\n    // figure: line\r\n    path: [[[0, 0], [1, 0], [2, 0], [3, 0]], [[1, 0], [1, 1], [1, 2], [1, 3]]]\r\n  },\r\n  {\r\n    // figure: T\r\n    path: [\r\n      [[0, 0], [1, 0], [2, 0], [1, 1]],\r\n      [[1, 0], [1, 1], [1, 2], [0, 1]],\r\n      [[1, 0], [0, 1], [1, 1], [2, 1]],\r\n      [[0, 0], [0, 1], [0, 2], [1, 1]]\r\n    ]\r\n  }\r\n];\r\n","import React from 'react';\r\nimport '../arrow.css';\r\n\r\nconst ArrowUp = ({ handleClickButton }) => {\r\n\treturn (\r\n\t\t<div onClick={handleClickButton} data-arrow=\"up\" className=\"arrow arrow--up\">\r\n\t\t\t<div className=\"arrow__content\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ArrowUp;\r\n","import React from \"react\";\r\nimport \"../arrow.css\";\r\n\r\nconst ArrowDown = ({ handleClickButton }) => {\r\n  return (\r\n    <div\r\n      onClick={handleClickButton}\r\n      data-arrow=\"down\"\r\n      className=\"arrow arrow--down\"\r\n    >\r\n      <div className=\"arrow__content\">\r\n   \r\n     </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrowDown;\r\n","import React from \"react\";\r\nimport \"../arrow.css\";\r\n\r\nconst ArrowLeft = ({ handleClickButton }) => {\r\n  return (\r\n    <div\r\n      onClick={handleClickButton}\r\n      data-arrow=\"left\"\r\n      className=\"arrow arrow--left\"\r\n    >\r\n      <div className=\"arrow__content\">\r\n   \r\n     </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ArrowLeft;\r\n","import React from 'react';\r\nimport '../arrow.css';\r\n\r\nconst ArrowRight = ({ handleClickButton }) => {\r\n\treturn (\r\n\t\t<div onClick={handleClickButton} data-arrow=\"right\" className=\"arrow arrow--right\">\r\n\t\t\t<div className=\"arrow__content\" />\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ArrowRight;\r\n","import React from \"react\";\r\nimport \"../btn.css\";\r\n\r\nconst PauseButton = ({ pauseGame, isPaused }) => {\r\n  return (\r\n    <button\r\n      className={`btn btn--pause ${isPaused ? \"isPaused\" : \"\"}`}\r\n      onClick={pauseGame}\r\n    />\r\n  );\r\n};\r\n\r\nexport default PauseButton;\r\n","import React, { useState } from \"react\";\r\nimport \"../btn.css\";\r\n\r\nconst StartButton = ({ startGame, isGameOver }) => {\r\n  const [activeClass, setClass] = useState();\r\n\r\n  const toggleClass = () => {\r\n    if (!isGameOver) return;\r\n    setClass(\"start\");\r\n    setTimeout(() => setClass(\"\"), 200);\r\n  };\r\n\r\n  return (\r\n    <button\r\n      className={`btn btn--start ${activeClass}`}\r\n      onClick={() => {\r\n        startGame();\r\n        toggleClass();\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default StartButton;\r\n","import React from \"react\";\r\nimport \"./ControlPanel.css\";\r\nimport ArrowUp from \"./arrowUp/arrowUp\";\r\nimport ArrowDown from \"./arrowDown/arrowDown\";\r\nimport ArrowLeft from \"./arrowLeft/arrowLeft\";\r\nimport ArrowRight from \"./arrowRight/arrowRight\";\r\nimport PauseBtn from \"./pauseBtn/pauseBtn\";\r\nimport StartBtn from \"./startBtn/startBtn\";\r\n\r\nclass ControlPanel extends React.PureComponent {\r\n  constructor(props) {\r\n    super();\r\n    this.handleClick = props.handleClick;\r\n    this.pauseGame = props.pauseGame;\r\n    this.startGame = props.startGame;\r\n  }\r\n\r\n  handleClickButton = e => {\r\n    const controlPanel = document.querySelector(\r\n      \".control-panel__arrows-wrapper\"\r\n    );\r\n    const activeClass = e.target.dataset.arrow;\r\n    controlPanel.classList.add(activeClass);\r\n    setTimeout(() => {\r\n      controlPanel.classList.remove(activeClass);\r\n    }, 300);\r\n    this.handleClick(e);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"control-panel\">\r\n        <div className=\"control-panel__arrows-wrapper\">\r\n          <ArrowUp handleClickButton={this.handleClickButton} />\r\n          <ArrowDown handleClickButton={this.handleClickButton} />\r\n          <ArrowLeft handleClickButton={this.handleClickButton} />\r\n          <ArrowRight handleClickButton={this.handleClickButton} />\r\n        </div>\r\n        <div className=\"control-panel__buttons-wrapper\">\r\n          <PauseBtn pauseGame={this.pauseGame} isPaused={this.props.isPaused} />\r\n          <StartBtn\r\n            startGame={this.startGame}\r\n            isGameOver={this.props.isGameOver}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ControlPanel;\r\n","import React from 'react'\r\nimport './ScoreBoard.css'\r\n\r\nconst ScoreBoard =({title,score}) =>{\r\n  return (\r\n    <div className=\"score-board\">\r\n      <div className=\"score-board__title\">{title}</div>\r\n      <div className=\"score-board__score\">{score}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ScoreBoard","import React from \"react\";\r\nimport \"./GameOver.css\";\r\n\r\nconst GameOver = ({ isGameOver }) => {\r\n  return (\r\n    <div className={`game-over ${isGameOver ? \"visible\" : \"\"}`}>\r\n      <div className=\"game-over__text\">GAME</div>\r\n      <div className=\"game-over__text\">OVER</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GameOver;\r\n","import React from \"react\";\r\nimport Field from \"../Field/Field\";\r\nimport NextFigureField from \"../NextFigureField/NextFigureField\";\r\nimport \"./Game.css\";\r\nimport { figures } from \"../../data/figures\";\r\nimport ControlPanel from \"../ControlPanel/ControlPanel\";\r\nimport ScoreBoard from \"../ScoreBoard/ScoreBoard\";\r\nimport GameOver from \"../GameOver/GameOver\";\r\nimport addScoreSound from \"../../sounds/addScore.mp3\";\r\nimport gameOverSound from \"../../sounds/gameOver.mp3\";\r\n\r\nclass Game extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      field: [[]],\r\n      nextFigureField: [[]],\r\n      isGameOver: false,\r\n      isPaused: false,\r\n      score: 0,\r\n      hiScore: 0\r\n    };\r\n\r\n    this.speed = 800;\r\n    this.field = this.createField(20, 10);\r\n    this.nextFigureField = this.createField(5, 5);\r\n    this.pathIndex = 0;\r\n    this.isKeyDown = true;\r\n    this.figureCoord = { x: 0, y: 0 };\r\n    this.lastRandomNumber = null;\r\n    this.currentFigure = null;\r\n    this.figurePath = null;\r\n    this.figures = figures;\r\n    this.score = 0;\r\n    this.savedHiScore = null;\r\n    this.addScoreSound = new Audio(addScoreSound);\r\n    this.gameOverSound = new Audio(gameOverSound);\r\n  }\r\n\r\n  createField = (height, width) => {\r\n    let array = [];\r\n    for (let y = 0; y < height; y++) {\r\n      array[y] = [];\r\n      for (let x = 0; x < width; x++) {\r\n        array[y][x] = 0;\r\n      }\r\n    }\r\n    return array;\r\n  };\r\n\r\n  getRandomFigure = () => {\r\n    const randomNumber = Math.floor(Math.random() * this.figures.length);\r\n    if (this.lastRandomNumber === randomNumber) this.getRandomFigure();\r\n    this.lastRandomNumber = randomNumber;\r\n    return this.figures[randomNumber];\r\n  };\r\n\r\n  componentDidMount() {\r\n    document.addEventListener(\"keydown\", this.handleKeyDown);\r\n    document.addEventListener(\"keyup\", () => (this.isKeyDown = true));\r\n    this.getHiScore();\r\n    this.nextFigure = this.getRandomFigure();\r\n    this.loop();\r\n  }\r\n\r\n  loop = () => {\r\n    if (this.field[0].includes(2)) {\r\n      this.gameOver();\r\n      return;\r\n    }\r\n    this.pathIndex = 0;\r\n    this.nextFigureField = this.nextFigureField.map(row =>\r\n      row.map(cell => (cell = 0))\r\n    );\r\n    this.currentFigure = this.nextFigure;\r\n    this.figurePath = this.currentFigure.path[0];\r\n    this.drawFigure(\r\n      this.field,\r\n      this.figurePath,\r\n      this.figureCoord.x,\r\n      this.figureCoord.y\r\n    );\r\n    this.nextFigure = this.getRandomFigure();\r\n    this.drawFigure(this.nextFigureField, this.nextFigure.path[0], 1, 1);\r\n    this.setState({ field: this.field, nextFigureField: this.nextFigureField });\r\n    this.interval = setInterval(this.moveFigure, this.speed);\r\n  };\r\n\r\n  handleKeyDown = e => {\r\n    if (!this.isKeyDown || this.state.isGameOver || this.state.isPaused) return;\r\n    switch (e.keyCode) {\r\n      case 37:\r\n        this.isKeyDown = false;\r\n        this.moveFigureLeft();\r\n        break;\r\n      case 39:\r\n        this.isKeyDown = false;\r\n        this.moveFigureRight();\r\n        break;\r\n      case 40:\r\n        this.isKeyDown = false;\r\n        this.moveFigureDown();\r\n        break;\r\n      case 38:\r\n        this.isKeyDown = false;\r\n        this.rotateFigure();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  handleClick = e => {\r\n    if (this.state.isGameOver || this.state.isPaused) return;\r\n    switch (e.target.dataset.arrow) {\r\n      case \"left\":\r\n        this.moveFigureLeft();\r\n        break;\r\n      case \"right\":\r\n        this.moveFigureRight();\r\n        break;\r\n      case \"down\":\r\n        this.moveFigureDown();\r\n        break;\r\n      case \"up\":\r\n        this.rotateFigure();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  drawFigure = (field, figure, x, y) => {\r\n    figure.forEach(path => {\r\n      field[path[1] + y][path[0] + x] = 1;\r\n    });\r\n  };\r\n\r\n  moveFigure = () => {\r\n    // check if figure can be moved down\r\n    let canMove = true;\r\n    for (let y = this.field.length - 1; y >= 0; y--) {\r\n      for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n        if (this.field[y][x] === 1) {\r\n          if (y + 1 === this.field.length || this.field[y + 1][x] === 2) {\r\n            canMove = false;\r\n            this.freezeFigure();\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // move a figure down\r\n    if (canMove) {\r\n      this.figureCoord.y++;\r\n      for (let y = this.field.length - 1; y >= 0; y--) {\r\n        for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n          if (this.field[y][x] === 1) {\r\n            this.field[y][x] = 0;\r\n            this.field[y + 1][x] = 1;\r\n          }\r\n        }\r\n      }\r\n\r\n      this.setState({ field: this.field });\r\n    }\r\n  };\r\n\r\n  moveFigureLeft = () => {\r\n    // check if figure can move to left\r\n    let canMove = true;\r\n    for (let x = 0; x <= this.field[1].length - 1; x++) {\r\n      for (let y = 0; y <= this.field.length - 1; y++) {\r\n        if (this.field[y][x] === 1) {\r\n          if (x <= 0 || this.field[y][x - 1] === 2) {\r\n            canMove = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // move figure to left\r\n    if (canMove) {\r\n      this.figureCoord.x--;\r\n      for (let x = 0; x <= this.field[1].length - 1; x++) {\r\n        for (let y = 0; y <= this.field.length - 1; y++) {\r\n          if (this.field[y][x] === 1) {\r\n            this.field[y][x] = 0;\r\n            this.field[y][x - 1] = 1;\r\n          }\r\n        }\r\n      }\r\n      this.setState({ field: this.field });\r\n    }\r\n  };\r\n\r\n  moveFigureRight = () => {\r\n    let canMove = true;\r\n    for (let x = this.field[1].length - 1; x >= 0; x--) {\r\n      for (let y = 0; y <= this.field.length - 1; y++) {\r\n        if (this.field[y][x] === 1) {\r\n          if (x >= this.field[1].length - 1 || this.field[y][x + 1] === 2) {\r\n            canMove = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // move figure to right\r\n    if (canMove) {\r\n      this.figureCoord.x++;\r\n      for (let x = this.field[1].length - 1; x >= 0; x--) {\r\n        for (let y = 0; y <= this.field.length - 1; y++) {\r\n          if (this.field[y][x] === 1) {\r\n            this.field[y][x] = 0;\r\n            this.field[y][x + 1] = 1;\r\n          }\r\n        }\r\n      }\r\n      this.setState({ field: this.field });\r\n    }\r\n  };\r\n\r\n  moveFigureDown = () => {\r\n    clearInterval(this.interval);\r\n    this.interval = setInterval(this.moveFigure, 10);\r\n  };\r\n\r\n  rotateFigure() {\r\n    // check if figure has space to rotate\r\n    let canRotate = true;\r\n    this.nextFigurePath = this.currentFigure.path[this.pathIndex + 1];\r\n    this.nextFigurePath.forEach(path => {\r\n      const x = path[0] + this.figureCoord.x;\r\n      const y = path[1] + this.figureCoord.y;\r\n      if (\r\n        x >= this.field[0].length ||\r\n        y >= this.field.length ||\r\n        this.field[y][x] === 2\r\n      ) {\r\n        canRotate = false;\r\n      }\r\n    });\r\n\r\n    if (canRotate) {\r\n      this.pathIndex =\r\n        this.pathIndex >= this.currentFigure.path.length - 2\r\n          ? -1\r\n          : this.pathIndex + 1;\r\n      this.figurePath = this.nextFigurePath;\r\n      // flush cells\r\n      this.field.forEach((row, rowIndex) =>\r\n        row.forEach((cell, cellIndex) => {\r\n          if (cell === 1) {\r\n            this.field[rowIndex][cellIndex] = 0;\r\n          }\r\n        })\r\n      );\r\n      this.drawFigure(\r\n        this.field,\r\n        this.figurePath,\r\n        this.figureCoord.x,\r\n        this.figureCoord.y\r\n      );\r\n      this.setState({ field: this.field });\r\n    }\r\n  }\r\n\r\n  freezeFigure = () => {\r\n    clearInterval(this.interval);\r\n    for (let y = this.field.length - 1; y >= 0; y--) {\r\n      for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n        if (this.field[y][x] === 1) {\r\n          this.field[y][x] = 2;\r\n        }\r\n      }\r\n    }\r\n    this.figureCoord.x = 0;\r\n    this.figureCoord.y = 0;\r\n    this.setState({ field: this.field });\r\n    this.clearFullRow();\r\n    this.loop();\r\n  };\r\n\r\n  clearFullRow = () => {\r\n    const rowIndex = this.getFullRowIndex();\r\n    if (!rowIndex) return;\r\n    for (let i = rowIndex; i > 0; i--) {\r\n      for (let x = 0; x < this.field[0].length; x++) {\r\n        this.field[i][x] = this.field[i - 1][x];\r\n      }\r\n    }\r\n    this.addScore();\r\n    this.clearFullRow();\r\n  };\r\n\r\n  addScore = () => {\r\n    this.playSound(this.addScoreSound);\r\n    this.score = this.score + 10;\r\n    this.setState({ score: this.score });\r\n  };\r\n\r\n  getHiScore = () => {\r\n    this.savedHiScore = parseInt(\r\n      window.localStorage.getItem(\"hi-score-tetris\")\r\n    );\r\n    this.setState({ hiScore: this.savedHiScore ? this.savedHiScore : 0 });\r\n  };\r\n\r\n  setHiScore = () => {\r\n    if (this.score < this.savedHiScore) return;\r\n    window.localStorage.setItem(\"hi-score-tetris\", this.score);\r\n    this.getHiScore();\r\n  };\r\n\r\n  getFullRowIndex = () => {\r\n    let isRowFull;\r\n    for (let y = this.field.length - 1; y >= 0; y--) {\r\n      isRowFull = true;\r\n      for (let x = 0; x <= this.field[y].length - 1; x++) {\r\n        if (this.field[y][x] === 0) {\r\n          isRowFull = false;\r\n        }\r\n      }\r\n      if (isRowFull) {\r\n        return y;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  gameOver = () => {\r\n    this.playSound(this.gameOverSound);\r\n    clearInterval(this.interval);\r\n    this.setState({ isGameOver: true });\r\n    this.setHiScore();\r\n  };\r\n\r\n  startGame = () => {\r\n    if (!this.state.isGameOver) return;\r\n    this.score = 0;\r\n    this.setState({ isGameOver: false, score: 0 });\r\n    this.field = this.field.map(row => row.map(cell => (cell = 0)));\r\n    this.loop();\r\n  };\r\n\r\n  pauseGame = () => {\r\n    if (this.state.isGameOver) return;\r\n    if (this.state.isPaused) {\r\n      this.interval = setInterval(this.moveFigure, this.speed);\r\n      this.setState({ isPaused: false });\r\n    } else {\r\n      clearInterval(this.interval);\r\n      this.setState({ isPaused: true });\r\n    }\r\n  };\r\n\r\n  playSound = (sound, volume = 1) => {\r\n    sound.volume = volume;\r\n    sound.currentTime = 0;\r\n    sound.play();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"game\">\r\n          <div className=\"game__frame--outer\">\r\n            <div className=\"game__frame--middle\">\r\n              <div className=\"game__frame--inner\">\r\n                <Field field={this.state.field} />\r\n                <div className=\"game__side-panel\">\r\n                  <ScoreBoard title={\"HI-SCORE\"} score={this.state.hiScore} />\r\n                  <ScoreBoard title={\"SCORE\"} score={this.state.score} />\r\n                  <NextFigureField\r\n                    nextFigureField={this.state.nextFigureField}\r\n                  />\r\n                  <GameOver isGameOver={this.state.isGameOver} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <ControlPanel\r\n            handleClick={this.handleClick}\r\n            pauseGame={this.pauseGame}\r\n            startGame={this.startGame}\r\n            isPaused={this.state.isPaused}\r\n            isGameOver={this.state.isGameOver}\r\n          />\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React from \"react\";\r\nimport Game from \"../Game/Game\";\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"skin\">\r\n      <Game />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css'\r\nimport App from './components/App/App'\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}